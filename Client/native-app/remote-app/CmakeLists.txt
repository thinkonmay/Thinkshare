cmake_minimum_required(VERSION 2.20.0)
project(remote-app C)

set(CMAKE_MAKE_PROGRAM ${CMAKE_SOURCE_DIR}/build-ninja/ninja)

set(THINKMAY_DIR $ENV{THINKMAY_DIR})

if (MINGW)
    set(CMAKE_PREFIX_PATH ${THINKMAY_DIR}/gstreamer/mingw_x86)
    set(INCLUDE_LIBRARY ${THINKMAY_DIR}/gstreamer/mingw_x86/lib)
elseif(MSVC)
    set(CMAKE_PREFIX_PATH ${THINKMAY_DIR}/gstreamer/msvc_x86_64)
    set(INCLUDE_LIBRARY ${THINKMAY_DIR}/gstreamer/msvc_x86_64/lib)
endif()


set(CMAKE_RUNTIME_OUTPUT_DIRECTORY THINKMAY_DIR/ThinkMay/bin)

foreach( OUTPUTCONFIG ${CMAKE_CONFIGURATION_TYPES} )
    string( TOUPPER ${OUTPUTCONFIG} OUTPUTCONFIG )
    set( CMAKE_ARCHIVE_OUTPUT_DIRECTORY_${OUTPUTCONFIG} ${THINKMAY_DIR}/ThinkMay/bin )
    set( CMAKE_LIBRARY_OUTPUT_DIRECTORY_${OUTPUTCONFIG} ${THINKMAY_DIR}/ThinkMay/bin )
    set( CMAKE_RUNTIME_OUTPUT_DIRECTORY_${OUTPUTCONFIG} ${THINKMAY_DIR}/ThinkMay/bin )
endforeach( OUTPUTCONFIG CMAKE_CONFIGURATION_TYPES )

set(SHARED_ITEMS ${CMAKE_SOURCE_DIR}/shared-items)


add_subdirectory(source)